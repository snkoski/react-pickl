(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,n){e.exports={CommentHolder:"CommentHolder_CommentHolder__12fgP"}},118:function(e,t,n){e.exports={GamePage:"GamePage_GamePage__3GO1Y"}},119:function(e,t,n){e.exports={ButtonDisabled:"VoteButton_ButtonDisabled__3zo3w",ButtonEnabledNo:"VoteButton_ButtonEnabledNo__3tbHH",ButtonEnabledYes:"VoteButton_ButtonEnabledYes__3pbjf",ButtonEnabledUndecided:"VoteButton_ButtonEnabledUndecided__10duU"}},120:function(e,t,n){e.exports={TeamContainer:"TeamContainer_TeamContainer__2rYoa"}},121:function(e,t,n){e.exports={GameCard:"GameCard_GameCard__1WhX-"}},122:function(e,t,n){e.exports={GameContainer:"GameContainer_GameContainer__24hD_"}},130:function(e,t,n){e.exports=n(216)},139:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),u=n.n(o),s=n(8),c=n(33),i=n(115),m=n(116),l="USER_REAUTH_SUCCESS",d="REMOVE_USER";var p=n(7),h={votes:[],error:null,loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_VOTES_START":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"FETCH_VOTES_SUCCESS":return function(e,t){return Object(p.a)({},e,{votes:t.votes,error:null,loading:!1})}(e,t);case"FETCH_VOTES_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"REMOVE_VOTES":return function(e,t){return Object(p.a)({},e,{votes:[]})}(e);case"NEW_VOTE":return function(e,t){var n=e.votes.filter(function(e){return e.game!==t.vote.game});return Object(p.a)({},e,{votes:n.concat(t.vote)})}(e,t);case"EDIT_VOTE":return function(e,t){var n=e.votes.filter(function(e){return e.id!==t.vote.id});return Object(p.a)({},e,{votes:n.concat(t.vote)})}(e,t);default:return e}},f={teams:null,error:null,loading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TEAMS":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"FETCH_TEAMS_SUCCESS":return function(e,t){return Object(p.a)({},e,{teams:t.teams,error:null,loading:!1})}(e,t);case"FETCH_TEAMS_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);default:return e}},v={allGames:null,selectedGame:null,error:null,loading:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAMES_START":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"FETCH_GAMES_SUCCESS":return function(e,t){return Object(p.a)({},e,{allGames:t.allGames,error:null,loading:!1})}(e,t);case"FETCH_GAMES_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"SELECT_GAME":return function(e,t){var n=e.allGames.filter(function(e){return e.id===t.id});return Object(p.a)({},e,{selectedGame:n})}(e,t);default:return e}},b=n(49),C={comments:[],error:!1,loading:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAME_COMMENTS_START":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"FETCH_GAME_COMMENTS_SUCCESS":return function(e,t){return Object(p.a)({},e,{comments:t.comments,error:null,loading:!1})}(e,t);case"FETCH_GAME_COMMENTS_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"ADD_COMMENT":return function(e,t){return Object(p.a)({},e,{comments:e.comments.concat(t.comment)})}(e,t);case"DELETE_GAME_COMMENT":case"EDIT_GAME_COMMENT":return function(e,t){var n=e.comments.filter(function(e){return e.id!=t.comment.id});return n=(n=n.concat(t.comment)).sort(function(e,t){return e.timestamp>t.timestamp?1:-1}),Object(p.a)({},e,{comments:Object(b.a)(n)})}(e,t);default:return e}},T={token:null,userId:null,username:null,error:null,loading:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return Object(p.a)({},e,{token:t.token,userId:t.userId,username:t.username,error:null,loading:!1})}(e,t);case"AUTH_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return Object(p.a)({},e,{token:null,userId:null,username:null})}(e);default:return e}},j={numVotes:[],error:null,loading:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NUM_VOTES_START":return function(e,t){return Object(p.a)({},e,{error:null,loading:!0})}(e);case"FETCH_NUM_VOTES_SUCCESS":return function(e,t){return Object(p.a)({},e,{numVotes:t.numVotes,error:null,loading:!1})}(e,t);case"FETCH_NUM_VOTES_FAILURE":return function(e,t){return Object(p.a)({},e,{error:t.error,loading:!1})}(e,t);case"ADD_NUM_VOTE":return function(e,t){var n=e.numVotes.filter(function(e){return e.team_id!==t.vote.team}),a=e.numVotes.find(function(e){return e.team_id===t.vote.team});a.num_votes++;var r=n.concat(a);return console.log("ADD NUM VOTE FILTERED: ",n),console.log("ADD NUM VOTE TEAM: ",a),console.log("ADD NUM VOTE NEWSTATE: ",r),Object(p.a)({},e,{numVotes:Object(b.a)(n.concat(a))})}(e,t);case"EDIT_NUM_VOTE":return function(e,t){var n=e.numVotes.filter(function(e){return e.game_id!==t.vote.game}),a=e.numVotes.filter(function(e){return e.game_id===t.vote.game});return a[0].team_id===t.vote.team?(a[0].num_votes++,a[1].num_votes--):a[1].team_id===t.vote.team&&(a[0].num_votes--,a[1].num_votes++),console.log("NUM VOTE REDUCER",n.concat(a)),Object(p.a)({},e,{numVotes:Object(b.a)(n.concat(a))})}(e,t);default:return e}},y=Object(c.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.user;case d:return localStorage.removeItem("token"),{};default:return e}},votes:E,teams:g,games:_,comments:O,auth:S,numVotes:A});var V=n(17);n(139),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(9),N=n(10),I=n(12),M=n(11),k=n(13),U=n(36),F=n(16),R=n.n(F),D=function(e){return function(t){R.a.get("http://54.225.49.92/reauth",{headers:{Authorization:"Bearer "+e}}).then(function(e){return t((n=e.data.user,{type:l,user:n}));var n})}},H=function(e){return function(t){t({type:"FETCH_VOTES_START"}),console.log("FETCH VOTE START",e),R.a.get("http://54.225.49.92/votes/".concat(e,"/today"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return t({type:"FETCH_VOTES_SUCCESS",votes:e.data.votes})}).catch(function(e){return t({type:"FETCH_VOTES_FAILURE",error:e})})}},L=function(){return{type:"REMOVE_VOTES"}},G=n(91),B=n.n(G),P=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){n.props.removeUser(),n.props.removeVotes()},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:B.a.nav},r.a.createElement("h1",{className:B.a.logo},"Pickl"),r.a.createElement("h1",null,r.a.createElement(V.b,{to:"/login"},"Login")),r.a.createElement("h1",null,r.a.createElement(V.b,{to:"/register"},"Register")),r.a.createElement("h1",{onClick:this.handleLogout},r.a.createElement(V.b,{to:"/"},r.a.createElement("button",null,"Logout"))))}}]),t}(a.Component),x=Object(s.b)(function(e){return{user:e.user,votes:e.votes}},{removeUser:function(){return{type:d}},removeVotes:L})(P),W=n(55),z=n.n(W),Y=Object(s.b)(function(e){return{username:e.auth.username}})(function(e){var t=null;e.username===e.comment.commentor.username&&(t=r.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteComment(e.comment.id)}},"Delete"));var n=e.comment.timestamp.split("T")[0];return console.log("DAYS",n),r.a.createElement("div",{className:z.a.Comment},r.a.createElement("span",{className:z.a.commentor},e.comment.commentor.username),r.a.createElement("span",{className:z.a.timestamp},function(e){var t=e.split("T")[0],n=e.split("T")[1],a=t.split("-")[0],r=parseInt(t.split("-")[1])-1,o=t.split("-")[2],u=n.split(":")[0],s=n.split(":")[1],c=n.split(":")[2].split("+")[0];return new Date(a,r,o,u,s,c).toLocaleString()}(e.comment.timestamp)),r.a.createElement("span",{className:z.a.content},e.comment.content),t)}),q=n(117),J=n.n(q),K=function(e){return e.comments?r.a.createElement("div",{className:J.a.CommentHolder},e.comments.map(function(t){return r.a.createElement(Y,{key:"comment-".concat(t.id),comment:t,username:e.username,handleDeleteComment:e.handleDeleteComment})})):null},X=n(25),Q=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(I.a)(this,Object(M.a)(t).call(this,e))).onChange=function(e){n.setState(Object(X.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t={user:n.props.user.userId,game:n.props.game_id,content:n.state.content};n.props.addComment(t)},n.state={content:""},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"content",placeholder:"Enter comment",value:this.state.content,onChange:this.onChange}),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(a.Component),Z=Object(s.b)(function(e){return{user:e.auth,comments:e.comments}},function(e){return{addComment:function(t){return e(function(e){return console.log("POST",e),function(t){R.a.post("http://54.225.49.92/comments",{user_id:e.user,game_id:e.game,content:e.content},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){console.log(e),t({type:"ADD_COMMENT",comment:e.data.comment})}).catch(function(e){return console.log("GAME POST ERROR",e)})}}(t))}}})(Q),$=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(n=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(o)))).handleDeleteComment=function(e){n.props.deleteComment(e)},n.renderCommentInput=function(){return n.props.user.userId?r.a.createElement(Z,{game_id:n.props.game_id}):null},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.getComments(this.props.game_id)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderCommentInput(),r.a.createElement(K,{comments:this.props.comments,username:this.props.user.username,handleDeleteComment:this.handleDeleteComment}))}}]),t}(a.Component),ee=Object(s.b)(function(e){return{comments:e.comments.comments,user:e.auth}},function(e){return{getComments:function(t){return e(function(e){return function(t){t({type:"FETCH_GAME_COMMENTS_START"}),R.a.get("http://54.225.49.92/comments/games/".concat(e)).then(function(e){return t({type:"FETCH_GAME_COMMENTS_SUCCESS",comments:e.data.comments})}).catch(function(e){return t({type:"FETCH_GAME_COMMENTS_FAILURE",error:e})})}}(t))},deleteComment:function(t){return e(function(e){return function(t){R.a.patch("http://54.225.49.92/comments/delete/".concat(e),{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){console.log("PATCH DELETe",e),t({type:"DELETE_GAME_COMMENT",comment:e.data.comment})}).catch(function(e){return console.log("DELETE GAME COMMENT ERROR",e)})}}(t))}}})($),te=n(118),ne=n.n(te),ae=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(I.a)(this,Object(M.a)(t).call(this,e))).backButton=function(e){console.log(e),n.props.history.push("/")},n.state={},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.location.state,t=e.homeTeam,n=e.awayTeam;return r.a.createElement("div",{className:ne.a.GamePage},r.a.createElement("h1",null,r.a.createElement(V.b,{to:"/"},"Back to games")),r.a.createElement("button",{onClick:this.backButton},"backButton"),r.a.createElement("h2",null,t.name," VS ",n.name),r.a.createElement("h1",null,"THIS WILL BE THE GAME PAGE"),r.a.createElement(ee,{game_id:this.props.location.state.game_id}))}}]),t}(a.Component),re=n(119),oe=n.n(re),ue=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e,t){var a=n.props.votes.find(function(t){return t.game===e}),r={user:n.props.user.userId,game:e,team:t};n.props.addVote(r),a?n.props.editNum(r):n.props.addNum(r),n.props.voteButtonTeam(t)},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.gameID,o=t.teamID,u=t.votedOn,s=n.userId&&!u?"":oe.a.ButtonDisabled;return r.a.createElement("button",{className:s,onClick:function(){return e.handleClick(a,o)}},"Vote")}}]),t}(a.Component),se=Object(s.b)(function(e){return{user:e.auth,votes:e.votes.votes,games:e.games.allGames}},function(e){return{addVote:function(t){return e(function(e){return console.log("BEFORE VOTE POST: ",e),function(t){R.a.post("http://54.225.49.92/votes",{user_id:e.user,game_id:e.game,team_id:e.team},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){console.log("VOTE POST RESPONSE",e),t({type:"NEW_VOTE",vote:e.data.vote})}).catch(function(e){return console.log("VOTE POST ERROR: ",e)})}}(t))},editNum:function(t){return e(function(e){return{type:"EDIT_NUM_VOTE",vote:e}}(t))},addNum:function(t){return e(function(e){return{type:"ADD_NUM_VOTE",vote:e}}(t))}}})(ue),ce=n(56),ie=n.n(ce),me=function(e){var t=!1;e.vote&&e.vote.team===e.team.id&&(t=!0);var n=0;return e.numVotes&&(n=e.numVotes.num_votes),r.a.createElement("div",{className:ie.a.TeamCard},r.a.createElement("p",{className:ie.a.City},e.team.city),r.a.createElement("p",{className:ie.a.Name},e.team.name),r.a.createElement("img",{className:"".concat(t?"":ie.a.BlackAndWhite),src:e.team.logo,alt:"Team Logo"}),r.a.createElement("p",null,n),r.a.createElement(se,{teamID:e.team.id,gameID:e.gameID,voteButtonTeam:e.voteButtonTeam,votedOn:t}))},le=n(120),de=n.n(le),pe=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(I.a)(this,Object(M.a)(t).call(this,e))).voteButtonTeam=function(e){n.setState({currentVote:e})},n.state={currentVote:""},n}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.vote&&this.setState({currentVote:this.props.vote.team})}},{key:"shouldComponentUpdate",value:function(e){return this.props.votes!==e.votes}},{key:"render",value:function(){var e=this,t=this.props.numVotes.find(function(t){return t.team_id===e.props.awayTeam.id&&t.game_id===e.props.gameID}),n=this.props.numVotes.find(function(t){return t.team_id===e.props.homeTeam.id&&t.game_id===e.props.gameID});return r.a.createElement("div",{className:de.a.TeamContainer},r.a.createElement(me,{team:this.props.awayTeam,gameID:this.props.gameID,numVotes:t,currentVote:this.state.currentVote,vote:this.props.vote,voteButtonTeam:this.voteButtonTeam}),r.a.createElement(me,{team:this.props.homeTeam,gameID:this.props.gameID,numVotes:n,currentVote:this.state.currentVote,vote:this.props.vote,voteButtonTeam:this.voteButtonTeam}))}}]),t}(r.a.Component),he=Object(s.b)(function(e){return{votes:e.votes.votes,numVotes:e.numVotes.numVotes}})(pe),Ee=n(121),fe=n.n(Ee),ge=function(e){return r.a.createElement("div",{className:fe.a.GameCard},r.a.createElement(he,{homeTeam:e.homeTeam,awayTeam:e.awayTeam,gameID:e.game.id,vote:e.vote,user:e.currentUser}),r.a.createElement("p",null,e.game.location),r.a.createElement("p",null,function(e){var t=e.split(":"),n=t[0],a="AM";return(n=parseInt(n,10))>12&&(n-=12,a="PM"),[n,t[1]].join(":")+" ".concat(a)}(e.game.time)),r.a.createElement(V.b,{to:{pathname:"/games/".concat(e.game.id),state:{homeTeam:e.homeTeam,awayTeam:e.awayTeam,game_id:e.game.id}}},r.a.createElement("button",null,"Check out the matchup")))},ve=n(122),_e=n.n(ve),be=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){console.log("DID MOUNT"),this.props.getTeams(),this.props.getTodaysGames(),this.props.getNumVotes(),localStorage.getItem("userId")&&this.props.getVotes(localStorage.getItem("userId"))}},{key:"render",value:function(){var e=this;console.log("GAME CONTAINER",this.props);var t=this.props,n=t.teams,a=t.games,o=t.votes,u=t.numVotes;this.props.authUser;return null===a||null===n?null:r.a.createElement("div",{className:_e.a.GameContainer},a.map(function(t){var a=n.filter(function(e){return e.id===t.away_team}),s=n.filter(function(e){return e.id===t.home_team}),c=u.find(function(e){return e.team_id===t.away_team}),i=u.find(function(e){return e.team_id===t.home_team}),m=o.find(function(e){return t.id===e.game});return r.a.createElement(ge,{key:"game-".concat(t.id),game:t,currentUser:e.props.currentUser,awayTeam:a[0],homeTeam:s[0],awayVotes:c,homeVotes:i,vote:m})}))}}]),t}(a.Component),Ce=Object(s.b)(function(e){return{teams:e.teams.teams,votes:e.votes.votes,games:e.games.allGames,authUser:e.auth.userId,numVotes:e.numVotes.numVotes}},function(e){return{getTeams:function(){return e(function(e){e({type:"FETCH_TEAMS"}),R.a.get("http://54.225.49.92/teamz").then(function(t){console.log("FETCH TEAM SUCCESS",t),e({type:"FETCH_TEAMS_SUCCESS",teams:t.data.teams})}).catch(function(t){console.log("FETCH TEAM",t),e({type:"FETCH_TEAMS_FAILURE",error:t})})})},getTodaysGames:function(){return e(function(e){e({type:"FETCH_GAMES_START"}),R.a.get("http://54.225.49.92/games/today").then(function(t){e({type:"FETCH_GAMES_SUCCESS",allGames:t.data.games})}).catch(function(t){e({type:"FETCH_GAMES_FAILURE",error:t.resp.data})})})},getVotes:function(t){return e(H(t))},getNumVotes:function(){return e(function(e){e({type:"FETCH_NUM_VOTES_START"}),R.a.get("http://54.225.49.92/votes/teams/today").then(function(t){console.log("NUM FETCH",t),e({type:"FETCH_NUM_VOTES_SUCCESS",numVotes:t.data.num_votes})}).catch(function(t){return e({type:"FETCH_NUM_VOTES_FAILURE",error:t})})})}}})(be),Oe=(localStorage.getItem("token"),function(e){return R.a.post("http://54.225.49.92/users",{username:e.username,email:e.email,password:e.password}).then(function(e){return localStorage.setItem("token",e.data.token),e.data})}),Te=function(e){return R.a.post("http://54.225.49.92/login",{username:e.username,password:e.password}).then(function(e){return localStorage.setItem("token",e.data.token),e.data}).catch(function(e){console.log(e)})},Se=n(37),je=n.n(Se),Ae=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(I.a)(this,Object(M.a)(t).call(this))).onChange=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var n={username:e.state.username,password:e.state.password};Te(n).then(function(t){t.error||(e.props.userFetchData(t.token),e.props.history.push("/"))})},e.addUserAction=function(t){e.props.addUserAction(t)},e.state={username:"",password:""},e}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:je.a.RegisterContainer},r.a.createElement("div",{className:je.a.RegisterForm},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("h1",{className:je.a.Header},"Please sign in"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter username",value:this.state.username,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),t}(a.Component),ye=Object(s.b)(function(e){return{user:e.user,votes:e.votes}},{userFetchData:D,fetchVotes:H})(Ae),Ve=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(I.a)(this,Object(M.a)(t).call(this))).onChange=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var n={username:e.state.username,email:e.state.email,password:e.state.password};Oe(n).then(function(t){e.props.userFetchData(t.token),e.props.history.push("/")})},e.state={username:"",email:"",password:"",confirmPassword:""},e}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:je.a.RegisterContainer},r.a.createElement("div",{className:je.a.RegisterForm},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("h1",{className:je.a.Header},"Create Your Pickl Account"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("div",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm",value:this.state.confirmPassword,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm")),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),t}(a.Component),we=Object(s.b)(function(e){return{user:e.user,votes:e.votes}},{userFetchData:D,fetchVotes:H})(Ve),Ne=function(e){return{type:"AUTH_FAILURE",error:e}},Ie=function(e,t,n){return{type:"AUTH_SUCCESS",token:e,userId:t,username:n}},Me=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("username"),{type:"AUTH_LOGOUT"}},ke=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.removeVotes(),this.props.onLogout()}},{key:"render",value:function(){return r.a.createElement(U.a,{to:"/"})}}]),t}(a.Component),Ue=Object(s.b)(null,function(e){return{onLogout:function(){return e(Me())},removeVotes:function(){return e({type:"REMOVE_VOTES"})}}})(ke),Fe=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e&&this.props.userFetchData(e)}},{key:"componentDidUpdate",value:function(e){this.props.user.id!==e.user.id&&this.props.fetchVotes(this.props.user.id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(x,{onLogout:this.handleLogout,onLogin:this.handleLogin}),r.a.createElement("div",null,r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/login",render:function(t){return r.a.createElement(ye,Object.assign({},t,{onLogin:e.handleLogin}))}}),r.a.createElement(U.b,{path:"/register",render:function(e){return r.a.createElement(we,e)}}),r.a.createElement(U.b,{path:"/games/:id",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(U.b,{path:"/",render:function(t){return r.a.createElement(Ce,Object.assign({},t,{currentUser:e.props.user}))}}))))}}]),t}(a.Component),Re=(Object(s.b)(function(e){return{user:e.user,votes:e.votes}},{userFetchData:D,fetchVotes:H})(Fe),n(158),n(128)),De=n(88),He=n.n(De),Le=(n(217),n(57)),Ge=function(e){return r.a.createElement(Le.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},e.isAuthenticated?r.a.createElement(Le.b.Item,{key:"3"},r.a.createElement(V.b,{to:"/logout"},"Logout")):r.a.createElement(Le.b.Item,{key:"1"},r.a.createElement(V.b,{to:"/login"},"Login")),e.isAuthenticated?null:r.a.createElement(Le.b.Item,{key:"2"},r.a.createElement(V.b,{to:"/register"},"Register")))},Be=Re.a.Header,Pe=function(e){return r.a.createElement(Be,{className:He.a.AntNav},r.a.createElement("div",{className:"logo"}),r.a.createElement(Ge,{isAuthenticated:e.auth}))},xe=n(95),We=n.n(xe),ze=function(){return r.a.createElement("div",{className:We.a.LoaderContainer},r.a.createElement("div",{className:We.a.Loader},"Loading..."))},Ye=n(67),qe=n.n(Ye),Je=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(I.a)(this,Object(M.a)(t).call(this))).onChange=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.submitHandler=function(t){t.preventDefault(),e.props.onLogin(e.state.username,e.state.password)},e.state={username:"",password:""},e}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=null;this.props.error&&(e=r.a.createElement("p",null,this.props.error.message));var t=null;return this.props.isAuthenticated&&(t=r.a.createElement(U.a,{to:"/"})),this.props.loading?r.a.createElement(ze,null):r.a.createElement("div",{className:qe.a.AuthLoginContainer},t,r.a.createElement("div",{className:qe.a.AuthLoginForm},r.a.createElement("form",{noValidate:!0,onSubmit:this.submitHandler},r.a.createElement("h1",{className:qe.a.Header},"AuthLogin"),e,r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter username",value:this.state.username,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),t}(a.Component),Ke=Object(s.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token}},function(e){return{onLogin:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_START"});var a={username:e,password:t};R.a.post("http://54.225.49.92/login",a).then(function(e){console.log("LOGIN RESPONSE",e),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.user.id),localStorage.setItem("username",e.data.user.username),n(Ie(e.data.token,e.data.user.id,e.data.user.username))}).catch(function(e){console.log(e),n(Ne(e))})}}(t,n))}}})(Je),Xe=n(68),Qe=n.n(Xe),Ze=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(I.a)(this,Object(M.a)(t).call(this))).onChange=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.submitHandler=function(t){t.preventDefault(),e.props.onRegister(e.state.username,e.state.email,e.state.password,e.state.confirmPassword)},e.state={username:"",email:"",password:"",confirmPassword:""},e}return Object(k.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=null;this.props.error&&(e=r.a.createElement("p",null,this.props.error.message));var t=null;return this.props.isAuthenticated&&(t=r.a.createElement(U.a,{to:"/"})),this.props.loading?r.a.createElement(ze,null):r.a.createElement("div",{className:Qe.a.AuthRegisterContainer},t,r.a.createElement("div",{className:Qe.a.AuthRegisterForm},r.a.createElement("form",{noValidate:!0,onSubmit:this.submitHandler},r.a.createElement("h1",{className:Qe.a.Header},"AuthRegister"),e,r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("div",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm",value:this.state.confirmPassword,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm")),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),t}(a.Component),$e=Object(s.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token}},function(e){return{onRegister:function(t,n,a,r){return e(function(e,t,n,a){return function(r){r({type:"AUTH_START"});var o={username:e,email:t,password:n,confirmPassword:a};R.a.post("http://54.225.49.92/users",o).then(function(e){console.log(e),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.user.id),r(Ie(e.data.token,e.data.user.id,e.data.user.username))}).catch(function(e){console.log(e),r(Ne(e))})}}(t,n,a,r))}}})(Ze),et=function(e){function t(){return Object(w.a)(this,t),Object(I.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Pe,{auth:this.props.isAuthenticated}),r.a.createElement("div",null,r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/login",component:Ke}),r.a.createElement(U.b,{path:"/register",component:$e}),r.a.createElement(U.b,{path:"/games/:id",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(U.b,{path:"/logout",component:Ue}),r.a.createElement(U.b,{path:"/",component:Ce}))))}}]),t}(a.Component),tt=Object(s.b)(function(e){return{isAuthenticated:null!==e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem("token");if(t){var n=localStorage.getItem("userId"),a=localStorage.getItem("username");e(Ie(t,n,a))}else e(Me())})}}})(et);u.a.render(r.a.createElement(s.a,{store:Object(c.createStore)(y,Object(i.composeWithDevTools)(Object(c.applyMiddleware)(m.a)))},r.a.createElement(V.a,{basename:"/react-pickl"},r.a.createElement(tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,n){e.exports={RegisterContainer:"Register_RegisterContainer__3aqW2",RegisterForm:"Register_RegisterForm__3dpI_"}},55:function(e,t,n){e.exports={Comment:"Comment_Comment__PW1S3",commentor:"Comment_commentor__24Rfe",content:"Comment_content__2iHbi",timestamp:"Comment_timestamp__2OI9T"}},56:function(e,t,n){e.exports={TeamCard:"TeamCard_TeamCard__1m33W",BlackAndWhite:"TeamCard_BlackAndWhite__3cQ8x",City:"TeamCard_City__3RZ6J",Name:"TeamCard_Name__1EOf0"}},67:function(e,t,n){e.exports={AuthLoginContainer:"AuthLogin_AuthLoginContainer__2tRvg",AuthLoginForm:"AuthLogin_AuthLoginForm__uhlp-"}},68:function(e,t,n){e.exports={AuthRegisterContainer:"AuthRegister_AuthRegisterContainer__1ic4q",AuthRegisterForm:"AuthRegister_AuthRegisterForm__37_vz"}},88:function(e,t,n){e.exports={AntNav:"AntNav_AntNav__2qiID"}},91:function(e,t,n){e.exports={nav:"Nav_nav__3gICw",logo:"Nav_logo__348g8"}},95:function(e,t,n){e.exports={LoaderContainer:"Spinner_LoaderContainer__28zXg",Loader:"Spinner_Loader__1twK-",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}}},[[130,1,2]]]);
//# sourceMappingURL=main.511de736.chunk.js.map